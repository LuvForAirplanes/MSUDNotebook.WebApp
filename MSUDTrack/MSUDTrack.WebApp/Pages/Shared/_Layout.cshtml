@inject MSUDTrack.Services.TrackerDbContext dbContext

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>@ViewData["Title"] - MSUDTrack</title>

        <environment include="Development">
            <link rel="stylesheet" href="~/css/flex.css" />
            @*<link rel="stylesheet" href="~/css/material_icons.css" />*@
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.7.6/dist/semantic.min.css" />
        </environment>
        <environment exclude="Development">
            <link rel="stylesheet" href="~/css/flex.css" />
            @*<link rel="stylesheet" href="~/css/material_icons.css" />*@
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.7.6/dist/semantic.min.css" />
        </environment>
        <link rel="stylesheet" href="~/css/site.css" />

        <style>
            .name {
                margin-left: 10px;
            }

            .demo-list-control {
                width: 300px;
            }

            .add-button {
                width: 300pt;
                text-align: center;
            }

            .settings-paragraphs {
                width: 300px;
                text-align: center;
            }

            body {
                padding:20px;
            }

            .item > a {
                color:black;
            }
        </style>
        @RenderSection("Styles", required: false)
    </head>
    <body>
        @{
            var data = dbContext.Children.Where(c => c.IsActive).ToList();
            var rv = ViewContext.RouteData.Values.FirstOrDefault().Value.ToString();
        }
        <div class="header flex-row">
            <h2>MSUD Track</h2>
            <select class="ui dropdown" id="child-select">
                <option class="hidden" selected disabled value="@(data.FirstOrDefault(c => c.IsSelected).Id)">@(data.FirstOrDefault(c => c.IsSelected).Name)</option>
                @for (int i = 0; i < data.Count; i++)
                {
                    <option value="@i">@data[i].Name</option>
                }
            </select>
        </div>
        <div class="ui top attached tabular menu">
            <div class="item @(rv == "/Today" ? "active" : "")" data-tab="today"><a href="today">Today</a></div>
            <div class="center item @(rv == "/History" ? "active" : "")" data-tab="history"><a href="History">History</a></div>
            <div class="item @(rv == "/Settings" ? "active" : "")" data-tab="settings"><a href="Settings">Settings</a></div>
        </div>
        <main class="mdl-layout__content">
            @RenderBody()
        </main>

        <environment include="Development">
            <script src="~/lib/jquery/dist/jquery.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.7.6/dist/semantic.min.js"></script>
        </environment>
        <environment exclude="Development">
            <script src="~/lib/jquery/dist/jquery.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.7.6/dist/semantic.min.js"></script>
        </environment>
        <script src="~/js/site.js" asp-append-version="true"></script>

        @RenderSection("Scripts", required: false)
    </body>
</html>
